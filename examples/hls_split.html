<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8 />
  <title>Video.js HLS</title>
  <script src="//imasdk.googleapis.com/js/sdkloader/ima3.js"></script>

  <link href="https://unpkg.com/wjplayer/dist/wjplayer.css" rel="stylesheet">
  <link href="https://unpkg.com/wjplayer/dist/skins/nmd.css" rel="stylesheet">
  <script src="https://unpkg.com/wjplayer/dist/wjplayer.min.js"></script>

  <link href="../dist/wjplayer.css" rel="stylesheet">
  <link href="../dist/skins/nmd.css" rel="stylesheet">
  <script src="../dist/wjplayer.js"></script>

  <link rel="stylesheet" href="sample.css">
  <script src="sample.js"></script>
</head>

<body>

  <div id="player-container"></div>

  <script>
    window.player = wjplayer({
      containerId: 'player-container',
      locale: getQueryParam('locale'),
      muted: true,
      playsinline: true,
      autoplay: getQueryParam('autoplay'),
      loop: getQueryParam('loop'),
      preload: getQueryParam('preload') || 'metadata',
      poster: 'https://static.life.ru/posts/2016/09/907639/video/.185142e5f273e565511ebe3a8494cf95.jpg',
      defaultQuality: 480,
      skin: 'nmd',
      pathToSwf: '../dist/video-js.swf',
      sources: [
       {
        src: 'https://static.life.ru/posts/2016/09/907639/video/185142e5f273e565511ebe3a8494cf95-720.m3u8',
        type: 'application/x-mpegURL',
       }
      ],
      sourcesWithRes: [
        {
          src: 'https://static.life.ru/posts/2016/09/907639/video/185142e5f273e565511ebe3a8494cf95-240.m3u8',
          type: 'application/x-mpegURL',
          label: '240p',
          res: 240
        },
        {
          src: 'https://static.life.ru/posts/2016/09/907639/video/185142e5f273e565511ebe3a8494cf95-360.m3u8',
          type: 'application/x-mpegURL',
          label: '360p',
          res: 360
        },
        {
          src: 'https://static.life.ru/posts/2016/09/907639/video/185142e5f273e565511ebe3a8494cf95-480.m3u8',
          type: 'application/x-mpegURL',
          label: '480p',
          res: 480
        },
        {
          src: 'https://static.life.ru/posts/2016/09/907639/video/185142e5f273e565511ebe3a8494cf95-720.m3u8',
          type: 'application/x-mpegURL',
          label: '720p',
          res: 720
        }],
      ads: window.ads,
      share: {
        url: 'http://embed.life.ru/video/185142e5f273e565511ebe3a8494cf95',
        embedCode: "<iframe src='http://embed.life.ru/video/185142e5f273e565511ebe3a8494cf95' width='560' height='315' frameborder='0' allowfullscreen></iframe>"
      }
    });
    player.reloadSourceOnError();
    player.on(['loadeddata', 'play', 'playing', 'seeked', 'resolutionchange', 'durationchange'], function(e) {
      console.log(e.type);
    });
  </script>
</body>

</html>
